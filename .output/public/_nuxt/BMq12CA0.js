import{T}from"./BAHNGNGe.js";import{g as S,a3 as D,G as C,k as p,S as N,a4 as w,L,Q as P,o as d,c as n,b as r,w as _,d as c,t as o,u as s,a as t,X as m,O as u,a5 as B,F as f,r as F,P as V,e as A,N as y,a6 as E,a7 as O}from"./Dpvjcl7r.js";import{_ as R}from"./CyOyDTfm.js";import"./CPced3FP.js";const q={class:"p-4 bt bg-[#fcfefc]"},G={class:"md sm:py-6"},H={class:"flex mb-6 -ml-2 items-center text-xs sm:text-sm"},I=t("i",{class:"fas fa-home mt-1"},null,-1),M=t("i",{class:"fas fa-angle-right text-base text-error mt-1"},null,-1),Q=t("i",{class:"fas fa-angle-right text-base text-error mt-1"},null,-1),W={class:"opacity-80 p-2"},X={key:0,class:"place-center"},$=t("img",{src:R,width:"280"},null,-1),j=[$],z={key:1},J={class:"text-4xl text-center mb-4"},K={class:"border-l-4 border-b-8 border-error bg-error/10 font-medium p-4"},U={class:"font-black text-lg sm:text-2xl uppercase mb-2 text-error"},Y={class:"opacity-80 text-xs mb-1"},Z={class:"py-4"},tt=t("h2",{class:"py-2 bb text-xl font-bold"},"Shipment Information",-1),st={class:"grid grid-cols-2 p-2 text-sm gap-x-4"},et=t("div",{class:"font-medium"},"Tracking Code:",-1),ot={class:"grid grid-cols-2 p-2 text-sm gap-x-4 bg-secondary"},it=t("div",{class:"font-medium"},"Status:",-1),at={class:"grid grid-cols-2 p-2 text-sm gap-x-4"},dt=t("div",{class:"font-medium"},"Sender's name:",-1),nt={class:"grid grid-cols-2 p-2 text-sm gap-x-4 bg-secondary"},ct=t("div",{class:"font-medium"},"Receiver's name:",-1),lt={class:"grid grid-cols-2 p-2 text-sm gap-x-4"},rt=t("div",{class:"font-medium"},"Origin:",-1),_t={class:"grid grid-cols-2 p-2 text-sm gap-x-4 bg-secondary"},mt=t("div",{class:"font-medium"},"Destination:",-1),ut={class:"grid grid-cols-2 p-2 text-sm gap-x-4"},gt=t("div",{class:"font-medium"},"Departure:",-1),pt={class:"grid grid-cols-2 p-2 text-sm gap-x-4 bg-secondary"},ht=t("div",{class:"font-medium"},"Expected Delivery:",-1),vt={class:"py-4"},ft=t("h2",{class:"py-2 bb text-xl font-bold"},"Package Details",-1),yt={class:"grid grid-cols-2 p-2 text-sm gap-x-4"},xt=t("div",{class:"font-medium"},"Product:",-1),bt={class:"grid grid-cols-2 p-2 text-sm gap-x-4 bg-secondary"},kt=t("div",{class:"font-medium"},"Total Pieces:",-1),Tt={class:"grid grid-cols-2 p-2 text-sm gap-x-4"},St=t("div",{class:"font-medium"},"Weight (kg):",-1),Dt={class:"grid grid-cols-2 p-2 text-sm gap-x-4 bg-secondary"},Ct=t("div",{class:"font-medium"},"Desciption:",-1),Nt={class:"py-4"},wt=t("h2",{class:"py-2 bb text-xl font-bold"},"Shipment History",-1),Lt={class:"py-3 bb"},Pt={class:"hidden sm:grid grid-cols-5"},Bt={class:"text-sm col-span-2 pr-3"},Ft={class:"opacity-70"},Vt={class:"text-base font-bold"},At={class:"opacity-70"},Et={class:"col-span-3"},Ot={class:"font-medium mb-1"},Rt={class:""},qt={class:"sm:hidden text-sm"},Gt={class:"opacity-80 text-xs mb-1"},Ht={class:"font-bold"},It={key:2,class:"ba p-6 my-6 flex items-center text-center"},Mt=t("i",{class:"fas fa-exclamation-triangle text-error text-2xl"},null,-1),Qt=t("div",{class:"text-base pl-4"}," An error occured. Please check your connection and try again later. ",-1),Wt=[Mt,Qt],Xt={key:3,class:"ba p-6 text-center my-6"},$t=t("i",{class:"fas fa-exclamation-triangle text-error text-5xl"},null,-1),jt={class:"text-sm sm:text-lg pt-3"},ts=S({__name:"[id]",setup(zt){const l=D(),{$db:x}=C(),h=p(!0),b=p(!1),i=p(null);return N(async()=>{try{const e=await w(L(x,"trackings",l.params.id));e.exists()&&(i.value=e.data())}catch(e){alert(P(e.code))}finally{h.value=!1}}),(e,Jt)=>{var v;const k=T,g=A;return d(),n(f,null,[r(k,null,{default:_(()=>[c("Tracking Code: "+o(s(l).params.id),1)]),_:1}),t("section",q,[t("div",G,[t("div",H,[r(g,{to:"/",class:"p-2 block hover:text-error"},{default:_(()=>[I]),_:1}),M,r(g,{to:"/track",class:"p-2 block hover:text-error hover:underline font-bold"},{default:_(()=>[c(" Track ")]),_:1}),Q,t("span",W,"Tracking Code: "+o(s(l).params.id),1)]),s(h)?(d(),n("section",X,j)):s(i)?(d(),n("section",z,[t("div",J,"Track: "+o((v=s(i))==null?void 0:v.type),1),t("section",K,[t("div",U,o(("get_update"in e?e.get_update:s(m))(s(i).updates).status),1),t("div",Y,o(("get_datetime"in e?e.get_datetime:s(u))(("get_update"in e?e.get_update:s(m))(s(i).updates).date))+" (Local time) "+o(("get_update"in e?e.get_update:s(m))(s(i).updates).city)+", "+o(("get_update"in e?e.get_update:s(m))(s(i).updates).country),1)]),t("section",Z,[tt,t("div",null,[t("div",st,[et,t("div",null,o(s(l).params.id),1)]),t("div",ot,[it,t("div",null,o(("get_status"in e?e.get_status:s(B))(s(i).updates)),1)])]),t("div",null,[t("div",at,[dt,t("div",null,o(s(i).sender.name),1)]),t("div",nt,[ct,t("div",null,o(s(i).receiver.name),1)])]),t("div",null,[t("div",lt,[rt,t("div",null,o(s(i).sender.city)+", "+o(s(i).sender.country),1)]),t("div",_t,[mt,t("div",null,o(s(i).receiver.city)+", "+o(s(i).receiver.country),1)])]),t("div",null,[t("div",ut,[gt,t("div",null,o(("get_datetime"in e?e.get_datetime:s(u))(s(i).sender.departure)),1)]),t("div",pt,[ht,t("div",null,o(("get_datetime"in e?e.get_datetime:s(u))(s(i).receiver.delivery)),1)])])]),t("section",vt,[ft,t("div",null,[t("div",yt,[xt,t("div",null,o(s(i).details.product),1)]),t("div",bt,[kt,t("div",null,o(s(i).details.quantity),1)])]),t("div",null,[t("div",Tt,[St,t("div",null,o(s(i).details.weight),1)]),t("div",Dt,[Ct,t("div",null,o(s(i).details.desc),1)])])]),t("section",Nt,[wt,(d(!0),n(f,null,F(s(i).updates.sort("sort_date"in e?e.sort_date:s(V)),a=>(d(),n("div",Lt,[t("div",Pt,[t("div",Bt,[t("div",Ft,o(("get_day"in e?e.get_day:s(y))(a.date)),1),t("div",Vt,o(("get_date"in e?e.get_date:s(E))(a.date)),1),t("div",At,o(("get_time"in e?e.get_time:s(O))(a.date))+" (Local time) ",1)]),t("div",Et,[t("h4",Ot,o(a.status),1),t("h5",Rt,o(a.city)+", "+o(a.country),1)])]),t("div",qt,[t("div",Gt,o(("get_day"in e?e.get_day:s(y))(a.date))+" "+o(("get_datetime"in e?e.get_datetime:s(u))(a.date))+" (Local time) ",1),t("h4",Ht,o(a.status),1),t("h5",null,o(a.city)+", "+o(a.country),1)])]))),256))])])):s(b)?(d(),n("section",It,Wt)):(d(),n("section",Xt,[$t,t("div",jt,[c(" No record of this tracking number can be found at this time, please check the number and try again later. For further assistance, please contact "),r(g,{to:"/contact",class:"font-bold underline"},{default:_(()=>[c("Customer Service")]),_:1}),c(". ")])]))])])],64)}}});export{ts as default};
